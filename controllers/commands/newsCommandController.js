import log from "../../logging/logging.js";
import {bot} from "../../app.js";
import {criticalErrorController} from "../../exceptions/bot/criticalErrorController.js";

const errorCatch = async (e, msg) => {
    log.error(`–í–ê–ñ–ù–û!User ${msg.chat.id}! –û–®–ò–ë–ö–ê –í newsCommandController. –Æ–∑–µ—Ä—É —Å–∫–∞–∑–∞–Ω–æ —á—Ç–æ –±–æ—Ç –ø—Ä–∏–±–æ–µ–ª.` + e.message, {
        stack: e.stack,
        userId: msg.chat.id
    })
    await criticalErrorController(msg)
}

export async function newsCommandController(msg) {
    try {
        const msg_text = 'üëã –†–∞–¥ —á—Ç–æ —Ç–µ–±–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã –Ω–∞—à–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è!\n' +
            '\n' +

            'üî¥ –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º. –ü–æ–¥—Ä–æ–±–Ω–µ–µ /search \n' +
            'üü° –î–æ–±–∞–≤–ª–µ–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≤–µ–± –∏–Ω—Ç–µ—Ä–µ–π—Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, –¥–æ—Å—Ç—É–ø–Ω—ã–π –ø–æ –∫–Ω–æ–ø–æ—á–∫–µ —Å–Ω–∏–∑—É —Å–ª–µ–≤–∞ "–¢—ã–∫!". \n' +
            '‚ö´Ô∏è –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–Ω–æ–ø–æ—á–∫–∏ –ø—Ä–∏ –∫–æ–º–∞–Ω–¥–µ /start. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤—ã–Ω–µ—Å–µ–Ω–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–Ω–æ–ø–æ—á–∫—É. \n' +
            'üü¢ –£–ª—É—á—à–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –ø–∞—Ä—Å–µ—Ä–∞ ksu, —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±—ã—Å—Ç—Ä–µ–µ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ.\n' +
            '‚ö™Ô∏è –í–µ–¥—É—Ç—å—Å—è —Ä–∞–±–æ—Ç—ã –ø–æ –ø–æ–≤—ã—à–µ–Ω–∏—é —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã, –∞ —Ç–∞–∫–∂–µ –ø–æ –æ–±—É—á–µ–Ω–∏—é –º–µ–Ω—è –∫–∞–∑–∞—Ö—Å–∫–æ–º—É —è–∑—ã–∫—É.'
        await bot.sendMessage(msg.chat.id, msg_text)
    } catch (e) {
        await errorCatch(e, msg)
    }
}