import {commandAntiSpamMiddleware} from "../../middlewares/bot/commandAntiSpamMiddleware.js";
import {bot} from "../../app.js";
import log from "../../logging/logging.js";

const errorCatch = async (e, msg) =>{
    log.error(`–í–ê–ñ–ù–û!User ${msg.chat.id}! –û–®–ò–ë–ö–ê –í helpCommandController. –Æ–∑–µ—Ä—É —Å–∫–∞–∑–∞–Ω–æ —á—Ç–æ –±–æ—Ç –ø—Ä–∏–±–æ–µ–ª.` + e.message, {stack: e.stack, userId: msg.chat.id})
    bot.sendMessage(msg.chat.id, "‚ö†Ô∏è –ë–æ—Ç –Ω–µ–º–Ω–æ–∂–∫–æ –ø—Ä–∏–±–æ–ª–µ–ª, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ. ").catch(e => console.error(e))
}

export async function helpCommandController(msg){
    await commandAntiSpamMiddleware(msg, async () => {
        try{
            const msg_text = "üìù –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n\n" +
                "üî¥ /start - –ü–æ–ª—É—á–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–Ω–æ–ø–æ—á–∫–∏.\n" +
                "üü¢ /remove - –£–¥–∞–ª–∏—Ç—å –Ω–∞–¥–æ–µ–¥–ª–∏–≤—ã–µ –∫–Ω–æ–ø–æ—á–∫–∏. \n" +
                "üîµ /new - –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ.\n" +
                "üî¥ /schedule - –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ—ë —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ.\n" +
                "üü¢ /search - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–æ –ø–æ–∏—Å–∫.\n" +
                "üîµ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ (–±–µ–∑ /) - –ê–Ω–∞–ª–æ–≥ /schedule.\n" +
                "üî¥ –ü—Ä–æ—Ñ–∏–ª—å [–§–∞–º–∏–ª–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è] (–±–µ–∑ /) - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Å –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è. (–ø—Ä–∏–º–µ—Ä: –ø—Ä–æ—Ñ–∏–ª—å –ò–≤–∞–Ω–æ–≤)\n" +
                "üü¢ –ü–æ–∏—Å–∫ (–±–µ–∑ /) - –∞–Ω–∞–ª–æ–≥ /search \n" +
                "üîµ /news - –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ –æ –ø–æ—Å–ª–µ–¥–Ω–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –±–æ—Ç–∞, –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –ø–ª–∞–Ω–∞—Ö.  \n" +
                "üî¥ /donate - –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –¢–æ–ª—è–Ω–∞.\n\n" +
                "‚ùóÔ∏è –í —Å–ª—É—á–∞–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –≤—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –Ω–∞–ø—Ä—è–º—É—é: @lena_nebot\n" +
                "ü•π –ë—É–¥–µ–º –±–ª–∞–≥–æ–¥–∞—Ä–Ω—ã, –µ—Å–ª–∏ –í—ã —Ä–∞—Å—Å–∫–∞–∂–µ—Ç–µ –æ –Ω–∞—Å —Å–≤–æ–∏–º –¥—Ä—É–∑—å—è–º(üêí) –∏–ª–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º(üë©‚Äçüè´).\n"
            await bot.sendMessage(msg.chat.id, msg_text)
        }catch (e) {
            await errorCatch(e, msg)
        }
    })
}